<script>
import { mapState, mapActions } from 'vuex';
import { GlButton } from '@gitlab/ui';
import { DAYS } from '../store/modules/vulnerabilities/constants';
import { s__, n__, sprintf } from '~/locale';

export default {
  name: 'VulnerabilityChartButtons',
  components: {
    GlButton,
  },
  DAYS,
  computed: {
    ...mapState('vulnerabilities', ['vulnerabilitiesHistoryDayRange']),
    buttonTitle(){
      return days => sprintf(s__('Security Reports|Show Last %{days} Days'),{ days });
    },
    buttonContent(){
      return days => n__('1 Day', '%d Days', days)
    }
  },
  methods: {
    ...mapActions('vulnerabilities', ['setVulnerabilitiesHistoryDayRange']),
  },
};
</script>

<template>
  <div class="btn-group">
    <gl-button 
      v-for="days in [$options.DAYS.THIRTY, $options.DAYS.SIXTY, $options.DAYS.NINETY]"
      :key="days"
      :class="{ active: vulnerabilitiesHistoryDayRange === days }"
      :aria-label="buttonTitle(days)"
      variant="secondary"
      @click="setVulnerabilitiesHistoryDayRange(days)"
    >
      {{ buttonContent(days) }}
    </gl-button>
  </div>
</template>
